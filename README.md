# üìö Libro de Hechizos - Baldur's Gate 3

**Actividad 2 - Master de Formaci√≥n Permanente en Full Stack Development**

## üìñ Descripci√≥n del Proyecto

Este proyecto es una aplicaci√≥n web interactiva desarrollada en React que presenta un compendio completo de hechizos del popular videojuego Baldur's Gate 3. La aplicaci√≥n permite a los usuarios explorar, buscar y filtrar hechizos por clase de personaje, nivel y tipo de mec√°nica de juego.

### üéØ Caracter√≠sticas Principales

- **üîç Sistema de b√∫squeda avanzado**: Filtrado en tiempo real por nombre de hechizo
- **üé≠ Navegaci√≥n por clases**: 6 clases m√°gicas (Bard, Cleric, Druid, Sorcerer, Warlock, Wizard)
- **üìä Filtros din√°micos**: Por nivel (Cantrip - Nivel 6) y tipo de mec√°nica
- **‚ú® Interfaz moderna**: Dise√±o responsive con efectos m√°gicos y popups informativos
- **üì± Adaptable**: Compatible con dispositivos m√≥viles y tablets
- **üé® UI/UX intuitiva**: Navegaci√≥n fluida con efectos visuales atractivos
- **üß© Arquitectura modular**: Componentes separados siguiendo principios SOLID
- **üîß CSS Modules**: Estilos encapsulados y sin conflictos entre componentes

### üõ†Ô∏è Tecnolog√≠as Utilizadas

- **React 18** - Framework principal
- **Vite** - Herramienta de construcci√≥n y desarrollo
- **CSS Modules** - Estilos modulares y scoped
- **JavaScript ES6+** - L√≥gica de la aplicaci√≥n
- **JSON** - Base de datos local de hechizos

## üöÄ Instalaci√≥n y Ejecuci√≥n

```bash
# Clonar el repositorio
git clone [url-del-repositorio]

# Navegar al directorio
cd show_products_react

# Instalar dependencias
npm install

# Ejecutar en desarrollo
npm run dev

# Construir para producci√≥n
npm run build
```

## üìÅ Estructura del Proyecto

```
src/
‚îú‚îÄ‚îÄ components/                    # Componentes React modulares
‚îÇ   ‚îú‚îÄ‚îÄ home/                     # Componente coordinador principal
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ home.jsx             # L√≥gica de coordinaci√≥n
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ home.module.css      # Estilos del componente home
‚îÇ   ‚îú‚îÄ‚îÄ header/                   # Componente de encabezado
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ header.jsx           # B√∫squeda y filtros (posici√≥n fija)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ header.module.css    # Estilos del header
‚îÇ   ‚îú‚îÄ‚îÄ menu/                     # Componente de navegaci√≥n lateral
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ menu.jsx             # Sidebar con clases m√°gicas
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ menu.module.css      # Estilos del men√∫ lateral
‚îÇ   ‚îú‚îÄ‚îÄ class-card/               # Tarjetas de informaci√≥n de clases
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ class-card.jsx       # Componente de tarjeta
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ class-card.module.css # Estilos de las tarjetas
‚îÇ   ‚îú‚îÄ‚îÄ spells-info/              # Tarjetas compactas de hechizos
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ spell-info.jsx       # Cards clickeables
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ spell-info.module.css # Estilos de cards
‚îÇ   ‚îî‚îÄ‚îÄ spell-info-details/       # Modal de informaci√≥n detallada
‚îÇ       ‚îú‚îÄ‚îÄ spell-info-details.jsx # Popup con datos completos
‚îÇ       ‚îî‚îÄ‚îÄ spell-info-details.module.css # Estilos del popup
‚îú‚îÄ‚îÄ data/                         # Base de datos JSON
‚îÇ   ‚îú‚îÄ‚îÄ spells.json              # Datos completos de hechizos
‚îÇ   ‚îî‚îÄ‚îÄ spells-by-class.json     # Relaci√≥n clase-hechizos
‚îú‚îÄ‚îÄ assets/                       # Recursos est√°ticos
‚îÇ   ‚îú‚îÄ‚îÄ classes/                 # Iconos de clases m√°gicas
‚îÇ   ‚îî‚îÄ‚îÄ spells/                  # Iconos de hechizos (310+ √≠conos)
‚îî‚îÄ‚îÄ App.jsx                      # Componente ra√≠z de la aplicaci√≥n
```

---

## üèóÔ∏è Refactorizaci√≥n Arquitectural

### Evoluci√≥n del Proyecto

Este proyecto ha evolucionado desde una aplicaci√≥n monol√≠tica hacia una **arquitectura modular** siguiendo principios de desarrollo profesional:

#### **üîÑ Fase 1: Aplicaci√≥n Inicial**
- Componente √∫nico con m√∫ltiples responsabilidades
- CSS mezclado con l√≥gica de presentaci√≥n
- Dificultad para mantenimiento y testing

#### **üß© Fase 2: Separaci√≥n de Componentes (Actual)**
- **Principio de Responsabilidad √önica**: Cada componente tiene una funci√≥n espec√≠fica
- **CSS Modules**: Estilos encapsulados para cada componente
- **Props Interface**: Comunicaci√≥n clara entre componentes

### üèõÔ∏è Arquitectura de Componentes

```
App.jsx (Estado Global)
    ‚Üì
Home.jsx (Coordinador)
    ‚îú‚îÄ‚îÄ Header.jsx (B√∫squeda/Filtros)
    ‚îú‚îÄ‚îÄ Menu.jsx (Navegaci√≥n Lateral)  
    ‚îú‚îÄ‚îÄ ClassCard.jsx (Tarjetas de Clases)
    ‚îî‚îÄ‚îÄ SpellInfo.jsx (Cards de Hechizos)
            ‚Üì
        SpellInfoDetails.jsx (Popup Modal)
```

#### **üîß Separaci√≥n Implementada:**

1. **Header Component** (`components/header/`)
   - **Responsabilidad**: B√∫squeda y filtros con posicionamiento fijo
   - **Props**: `searchTerm`, `levelFilter`, `typeFilter`, `onSearch`, `onLevelFilter`, `onTypeFilter`
   - **CSS**: `position: fixed`, `z-index: 1000`

2. **Menu Component** (`components/menu/`)
   - **Responsabilidad**: Navegaci√≥n lateral con selecci√≥n de clases
   - **Props**: `selectedClass`, `onClassSelect`, `classCounts`
   - **Funcionalidades**: Scroll suave, estados activos, hover effects

3. **SpellInfoDetails Component** (`components/spell-info-details/`)
   - **Responsabilidad**: Modal popup con informaci√≥n detallada
   - **Props**: `spell`, `isVisible`, `onClose`
   - **Caracter√≠sticas**: Overlay, animaciones m√°gicas, click-outside-to-close

### ‚úÖ Beneficios de la Refactorizaci√≥n

#### **Mantenibilidad**
- **Before**: Cambiar el header requer√≠a modificar `home.jsx` completo
- **After**: Modificaciones aisladas en `components/header/header.jsx`

#### **Reutilizaci√≥n**
- **Before**: L√≥gica duplicada entre componentes
- **After**: Componentes independientes y reutilizables

#### **Testing**
- **Before**: Tests complejos de componentes monol√≠ticos
- **After**: Tests unitarios espec√≠ficos por funcionalidad

#### **Escalabilidad**
- **Before**: Archivo √∫nico de 300+ l√≠neas
- **After**: Componentes de 50-100 l√≠neas cada uno

### üéØ Principios Aplicados

- **Single Responsibility Principle (SRP)**: Un componente, una responsabilidad
- **Don't Repeat Yourself (DRY)**: L√≥gica compartida en funciones utilitarias
- **Props Interface Design**: Comunicaci√≥n clara y tipada
- **CSS Encapsulation**: Estilos modulares sin conflictos

---

---

## üß† Conceptos de React: Estados y Gesti√≥n de Datos

### ¬øQu√© son los Estados en React?

Los **estados** son el mecanismo fundamental que permite a los componentes de React manejar y actualizar informaci√≥n din√°mica. Un estado es simplemente un objeto JavaScript que contiene datos que pueden cambiar a lo largo del tiempo y que afectan c√≥mo se renderiza el componente.

```jsx
const [searchTerm, setSearchTerm] = useState('');
// searchTerm: valor actual del estado
// setSearchTerm: funci√≥n para actualizar el estado
// '': valor inicial
```

### üîÑ Flujo de Estados en Nuestro Proyecto

#### 1. **Estado Local vs Estado Compartido**

**‚ùå Problema Inicial:**
```jsx
function Home() {
  const [searchTerm, setSearchTerm] = useState(''); // Solo Home conoc√≠a este valor
  // Pero App.jsx necesitaba filtrar los hechizos...
}
```

**‚úÖ Soluci√≥n Implementada:**
```jsx
function App() {
  const [searchTerm, setSearchTerm] = useState(''); // Estado elevado a App
  const filteredSpells = spells.filter(spell => 
    spell.name.includes(searchTerm)
  );
  return <Home searchTerm={searchTerm} spells={filteredSpells} />;
}
```

#### 2. **Lifting State Up (Elevaci√≥n de Estado)**

Cuando m√∫ltiples componentes necesitan compartir el mismo estado, lo movemos al componente padre m√°s cercano que los contenga:

```jsx
// App.jsx - Componente padre que maneja estados compartidos
const [selectedClass, setSelectedClass] = useState('')
const [spells, setSpells] = useState([])
const [searchTerm, setSearchTerm] = useState('')
const [levelFilter, setLevelFilter] = useState('all')
const [typeFilter, setTypeFilter] = useState('all')

// Flujo de datos hacia componentes hijos
return (
  <Home 
    spells={filteredSpells}
    searchTerm={searchTerm}
    selectedClass={selectedClass}
    levelFilter={levelFilter}
    typeFilter={typeFilter}
    onSearch={setSearchTerm}
    onClassSelect={setSelectedClass}
    onLevelFilter={setLevelFilter}
    onTypeFilter={setTypeFilter}
  />
);
```

#### 3. **Props Drilling Pattern**

Los datos fluyen hacia abajo y las acciones hacia arriba a trav√©s de la jerarqu√≠a de componentes:

```jsx
// Home.jsx - Distribuye props a componentes especializados
<Header 
  searchTerm={searchTerm}
  levelFilter={levelFilter}
  typeFilter={typeFilter}
  onSearch={onSearch}
  onLevelFilter={onLevelFilter}
  onTypeFilter={onTypeFilter}
/>

<Menu 
  selectedClass={selectedClass}
  onClassSelect={onClassSelect}
  classCounts={classCounts}
/>

<SpellInfo 
  spell={spell}
  // El popup maneja su propio estado local
/>
```

### üìä Gesti√≥n de Filtros Reactivos

#### Problema de Variables No Reactivas
```jsx
// ‚ùå INCORRECTO - Variable normal (no reactiva)
let selectedClassSpells = spells.length;
// Esta variable NO se actualiza autom√°ticamente
```

#### Soluci√≥n con C√°lculos Derivados
```jsx
// ‚úÖ CORRECTO - C√°lculo basado en estados
const getFilteredSpells = () => {
  return spells.filter(spell => {
    const matchesName = spell.name.includes(searchTerm);
    const matchesLevel = levelFilter === 'all' || spell.level === levelFilter;
    const matchesType = typeFilter === 'all' || spell.type === typeFilter;
    return matchesName && matchesLevel && matchesType;
  }).length;
};

const selectedClassSpells = getFilteredSpells(); // Se recalcula autom√°ticamente
```

### üîß Patrones de Estado Implementados

#### 1. **Estado Centralizado (App.jsx)**
- Todos los filtros principales se manejan en el componente ra√≠z
- Los datos fluyen hacia abajo via props (uni-directional data flow)
- Las acciones suben via callbacks para mantener la fuente √∫nica de verdad

#### 2. **Estado Local para UI (SpellInfoDetails)**
```jsx
// SpellInfo.jsx - Estado local para popup
const [isPopupVisible, setIsPopupVisible] = useState(false);

const handleCardClick = () => {
  setIsPopupVisible(true); // Controla solo la visibilidad del modal
};

// SpellInfoDetails.jsx - Componente especializado
export default function SpellInfoDetails({ spell, isVisible, onClose }) {
  // Recibe props del padre, maneja su propia l√≥gica interna
  const handleOverlayClick = () => {
    if (onClose) onClose();
  };
}
```

#### 3. **Estado Derivado y C√°lculos Reactivos**
```jsx
// Home.jsx - C√°lculos que se actualizan autom√°ticamente
const filteredSpells = useMemo(() => {
  return spells.filter(spell => {
    const matchesName = spell.name.toLowerCase().includes(searchTerm.toLowerCase());
    const matchesLevel = levelFilter === 'all' || spell.level.toString() === levelFilter;
    const matchesType = typeFilter === 'all' || spell.type === typeFilter;
    return matchesName && matchesLevel && matchesType;
  });
}, [spells, searchTerm, levelFilter, typeFilter]);

// Los contadores se derivan autom√°ticamente de los datos filtrados
const classCounts = useMemo(() => {
  const counts = {};
  classes.forEach(className => {
    counts[className] = getSpellsByClass(className, filteredSpells).length;
  });
  return counts;
}, [filteredSpells]);
```

#### 4. **Component Communication Patterns**

```jsx
// Patr√≥n padre-hijo con props
<Header onSearch={handleSearch} searchTerm={searchTerm} />

// Patr√≥n callback para comunicaci√≥n hijo-padre
const handleSearch = (newSearchTerm) => {
  setSearchTerm(newSearchTerm); // Estado sube al padre
};

// Estado compartido entre hermanos via padre com√∫n
<Menu selectedClass={selectedClass} />
<ClassCard selectedClass={selectedClass} />
```

### ü§î Preguntas Frecuentes Resueltas

#### **"¬øHay que declarar las variables reactivas siempre desde App.jsx?"**

**Respuesta:** No siempre. Sigue la regla del **componente m√°s bajo que necesite compartir el estado**:

- **Estado local**: Si solo un componente lo usa
- **Estado en padre**: Si varios hermanos lo necesitan
- **Estado en App**: Si toda la aplicaci√≥n lo necesita
- **Context API**: Si muchos componentes distantes lo necesitan

#### **"¬øC√≥mo hacer que los contadores se actualicen autom√°ticamente?"**

**Soluci√≥n implementada:**
1. ‚úÖ Usar `useState` para datos que cambian
2. ‚úÖ Calcular valores derivados en cada render
3. ‚úÖ Pasar datos filtrados via props
4. ‚ùå Evitar variables normales para datos reactivos

#### **"¬øPor qu√© algunos iconos aparec√≠an encima del popup?"**

**Problema:** Conflicto de z-index y contextos de apilamiento
**Soluci√≥n:**
- Mover popup fuera del contenedor del card
- Usar z-index extremadamente altos (99999)
- Aplicar `isolation: isolate` para crear contextos limpios

## üé® Caracter√≠sticas de UI/UX

### Dise√±o Responsive
- **Desktop**: Grid de 4 columnas
- **Tablet**: Grid de 3 columnas  
- **Mobile**: Grid de 2 columnas

### Efectos M√°gicos
- Fondo con gradientes m√≠sticos y efectos de desenfoque
- Animaciones de aparici√≥n con escalado y rotaci√≥n
- Popups con sombras multicapa para profundidad
- Transiciones suaves en hover y interacciones

### Interactividad
- **Click para abrir**: Los popups se activan al hacer click
- **Click fuera para cerrar**: Interfaz intuitiva
- **B√∫squeda en tiempo real**: Filtrado instant√°neo
- **Navegaci√≥n fluida**: Scroll autom√°tico a secciones

---

## üèÜ Logros T√©cnicos

### üß© Arquitectura Modular
- ‚úÖ **Separaci√≥n de responsabilidades**: Cada componente tiene una funci√≥n espec√≠fica
- ‚úÖ **Props Interface Design**: Comunicaci√≥n clara entre componentes
- ‚úÖ **CSS Modules**: Estilos encapsulados sin conflictos globales
- ‚úÖ **Component Isolation**: Tests y desarrollo independientes

### üîÑ Gesti√≥n de Estado
- ‚úÖ **Estado centralizado**: Gesti√≥n eficiente desde App.jsx
- ‚úÖ **Lifting State Up**: Estados compartidos entre componentes hermanos
- ‚úÖ **Derived State**: C√°lculos reactivos autom√°ticos
- ‚úÖ **Local State**: Estados espec√≠ficos para UI y animaciones

### üé® Interfaz y Experiencia
- ‚úÖ **Dise√±o responsivo**: Grid adaptable seg√∫n dispositivo
- ‚úÖ **Header fijo**: Navegaci√≥n accesible con `position: fixed`
- ‚úÖ **Popup modales**: Sistema de overlay con z-index management
- ‚úÖ **Animaciones m√°gicas**: Efectos visuales con CSS puro

### üîß Caracter√≠sticas T√©cnicas
- ‚úÖ **Filtrado en tiempo real**: M√∫ltiples criterios simult√°neos
- ‚úÖ **Hot Module Replacement**: Desarrollo con recarga instant√°nea
- ‚úÖ **Fallback de im√°genes**: Sistema robusto local + remoto
- ‚úÖ **Click-outside-to-close**: UX intuitiva en modales

### üìà Escalabilidad y Mantenimiento
- ‚úÖ **Componentes reutilizables**: Modulares y configurables via props
- ‚úÖ **Arquitectura extensible**: F√°cil agregar nuevas funcionalidades
- ‚úÖ **C√≥digo limpio**: Principios SOLID aplicados
- ‚úÖ **Separaci√≥n de concerns**: L√≥gica, presentaci√≥n y estilos separados

## üìö Recursos de Aprendizaje

- [Documentaci√≥n oficial de React](https://react.dev/)
- [Gu√≠a de Estados en React](https://react.dev/learn/managing-state)
- [CSS Modules](https://github.com/css-modules/css-modules)
- [Vite Documentation](https://vitejs.dev/)

---

**Desarrollado con üíú para el Master de Full Stack Development**
